<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spittr.mapper.UserMapper">

	<insert id="register" parameterType="java.util.HashMap" useGeneratedKeys="true" keyProperty="userId">
		insert into
		`user_info` (`nickname`, `password`, `gender`, `location`,
		`profile`,
		`birth_day`, `registered_time`, `phone_num`)
		values
		(#{nickname},
		#{password}, #{gender}, #{location}, #{profile},
		#{birthDay},
		#{registeredTime}, #{phoneNum})
	</insert>

	<select id="getUserCountByNickname" parameterType="java.lang.String"
		resultType="java.lang.Integer">
		select count(1) from `user_info` where `nickname` =
		#{nickname}
	</select>

	<select id="getUserCountByPhoneNum" parameterType="java.lang.String"
		resultType="java.lang.Integer">
		select count(1) from `user_info` where `phone_num` =
		#{phoneNum}
	</select>

</mapper>